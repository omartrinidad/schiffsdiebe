import numpy as np
import os

__location__ = os.path.realpath(
                    os.path.join(os.getcwd(),
                    os.path.dirname(__file__))
                    ) + "/"

class Dataset():
    """
    I want to create a similar object to that one existing in R: Dataframe
    """

    def __init__(self, training_file, test_file, header=False):
        """
        header: a row with the attribute names, by default is False, otherwise,
                the headers are autogenerated.
        """

        # traning set
        self.training = np.genfromtxt(
                training_file, dtype=float,
                delimiter=',', skip_header = 1
                )[:,0:-1]

        # traning labels set
        self.training_labels = np.genfromtxt(
                training_file, dtype=float,
                delimiter=',', skip_header = 1
                )[:,-1:].ravel()

        # test set
        self.test = np.genfromtxt(
                test_file, dtype=float,
                delimiter=',', skip_header = 1
                )[:,0:-1]

        # test labels set
        self.test_labels = np.genfromtxt(
                test_file, dtype=float,
                delimiter=',', skip_header = 1
                )[:,-1:].ravel()

        # attributes
        if header:
            self.attributes = np.genfromtxt(
                    test_file, dtype=str,
                    delimiter=',', max_rows = 1
                    )
        else:
            ncols = range(self.training_labels.shape[0])
            self.attributes = ["column {}".format(x) for x in ncols]


    def dummy()
        """
        ToDo: It generates dummy data (an small subset to practice)
        """
        pass


class Examples(object):
    """
    """

    def __init__(self):
        """
        """
        pass


    def spam(self):
        """
        Spam dataset
        """

        training_ds = __location__ + "data/spam_training.csv"
        test_ds = __location__ + "data/spam_test.csv"

        return Dataset(training_ds, test_ds)


    def gene_expression(self):
        """
        Gene expression dataset
        """

        training_ds = __location__ + "data/gene_expression_training.csv"
        test_ds = __location__ + "data/gene_expression_test.csv"

        return Dataset(training_ds, test_ds, header=True)
